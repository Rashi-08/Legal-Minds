<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attorney Workspace - LegalMinds</title>
<style>
    /* --- SHARED LIGHT THEME (Matches Student Dashboard) --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f3f4f6; color: #111827; min-height: 100vh; }
    
    /* Nav */
    .top-nav { background-color: #ffffff; border-bottom: 1px solid #e5e7eb; padding: 0.75rem 0; position: sticky; top: 0; z-index: 100; }
    .nav-content { max-width: 1280px; margin: 0 auto; padding: 0 1rem; display: flex; align-items: center; gap: 2rem; }
    .logo { font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #0a66c2 0%, #10b981 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none; display: flex; align-items: center; gap: 0.5rem; }
    .search-bar { flex: 1; max-width: 400px; }
    .search-bar input { width: 100%; padding: 0.625rem 1rem; border: 1px solid #e5e7eb; border-radius: 20px; background-color: #f9fafb; color: #111827; font-size: 0.875rem; }
    .search-bar input:focus { outline: none; border-color: #0a66c2; background-color: #ffffff; }
    .nav-actions { display: flex; gap: 1rem; margin-left: auto; }
    .nav-btn { padding: 0.5rem 1rem; background-color: transparent; border: 1px solid #e5e7eb; border-radius: 20px; color: #374151; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; }
    .nav-btn:hover { background-color: #f3f4f6; border-color: #0a66c2; }
    
    /* Layout */
    .container { max-width: 1280px; margin: 1.5rem auto; padding: 0 1rem; display: grid; grid-template-columns: 280px 1fr 320px; gap: 1.5rem; }
    .card { background-color: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; overflow: hidden; margin-bottom: 1rem; }
    
    /* Sidebar Profile (Lawyer Specific Styles) */
    .profile-header { height: 80px; background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%); position: relative; } /* Darker Blue for Lawyer */
    .profile-avatar { width: 80px; height: 80px; border-radius: 50%; border: 4px solid #ffffff; background: #1e3a8a; position: absolute; bottom: -40px; left: 50%; transform: translateX(-50%); display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: 600; color: #ffffff; }
    .profile-info { padding: 3rem 1.5rem 1rem; text-align: center; border-bottom: 1px solid #e5e7eb; }
    .profile-name { font-size: 1.125rem; font-weight: 700; margin-bottom: 0.25rem; color: #111827; }
    .profile-title { font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem; font-weight: 600; }
    .profile-bio { font-size: 0.8rem; color: #6b7280; line-height: 1.4; }
    .stat-box { text-align: center; padding: 0.75rem; background-color: #f9fafb; border-radius: 8px; border: 1px solid #e5e7eb; }
    .stat-value { font-size: 1.5rem; font-weight: 700; color: #1e40af; margin-bottom: 0.25rem; }
    .profile-stats { padding: 1rem 1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

    /* Main Content Area */
    .card-header { padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb; display: flex; align-items: center; justify-content: space-between; }
    .card-title { font-size: 1rem; font-weight: 700; color: #111827; display: flex; align-items: center; gap: 0.5rem; }
    
    /* Review Queue List */
    .case-list { display: flex; flex-direction: column; background-color: #ffffff; }
    .case-item { padding: 1.25rem 1.5rem; border-bottom: 1px solid #e5e7eb; display: flex; gap: 1rem; transition: background-color 0.2s; }
    .case-item:hover { background-color: #f9fafb; }
    .case-icon { width: 48px; height: 48px; border-radius: 8px; background: #e0e7ff; color: #4338ca; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; flex-shrink: 0; }
    .case-content { flex: 1; min-width: 0; }
    .case-header-meta { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-size: 0.75rem; color: #6b7280; }
    .case-title { font-size: 1rem; font-weight: 600; color: #111827; margin-bottom: 0.5rem; }
    .tag { padding: 0.25rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-weight: 600; margin-right: 5px; }
    .tag.draft { background: #fee2e2; color: #991b1b; }
    .tag.student { background: #dbeafe; color: #1e40af; }
    .case-footer { display: flex; gap: 0.75rem; align-items: center; margin-top: 8px; }
    
    .action-btn { padding: 0.5rem 1.2rem; background: #1e40af; border: none; border-radius: 20px; color: #ffffff; font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: all 0.2s; }
    .action-btn:hover { background: #1e3a8a; transform: translateY(-1px); }
    .action-btn.secondary { background: transparent; border: 1px solid #e5e7eb; color: #374151; }
    .action-btn.secondary:hover { background: #f3f4f6; }

    /* Right Sidebar (Specific to Lawyer) */
    .info-header { padding: 1rem 1.25rem; border-bottom: 1px solid #e5e7eb; font-size: 0.875rem; font-weight: 700; display: flex; align-items: center; gap: 0.5rem; }
    .info-content { padding: 1rem 1.25rem; }
    .info-item { padding: 0.75rem 0; border-bottom: 1px solid #e5e7eb; font-size: 0.85rem; color: #4b5563; }
    .info-item:last-child { border-bottom: none; }

    /* --- REVIEW MODAL STYLES --- */
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
    .modal-container { background: #ffffff; width: 95%; max-width: 1200px; height: 85vh; border-radius: 12px; display: flex; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); border: 1px solid #e5e7eb; }
    
    .modal-left { flex: 3; padding: 2rem; overflow-y: auto; background: #f8fafc; border-right: 1px solid #e5e7eb; }
    .modal-right { flex: 1.5; padding: 2rem; overflow-y: auto; background: white; display: flex; flex-direction: column; }

    .doc-preview { background: white; padding: 2.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-radius: 4px; min-height: 700px; font-family: 'Times New Roman', serif; line-height: 1.6; color: #333; border: 1px solid #e2e8f0; }
    
    /* Evaluation Controls */
    .rubric-group { margin-bottom: 1.5rem; }
    .rubric-header { display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 600; color: #374151; }
    input[type=range] { width: 100%; accent-color: #1e40af; }
    
    .feedback-box { width: 100%; height: 120px; padding: 10px; border: 1px solid #d1d5db; border-radius: 8px; font-family: inherit; resize: vertical; margin-bottom: 1rem; font-size: 0.9rem; }
    
    .modal-actions { margin-top: auto; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .btn-reject { background: #ef4444; color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; }
    .btn-approve { background: #10b981; color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; }
    .btn-close { position: absolute; top: 1rem; right: 1rem; background: white; border: 1px solid #e5e7eb; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: #6b7280; }

    @media (max-width: 1024px) { .container { grid-template-columns: 260px 1fr; } .right-sidebar { display: none; } }
    @media (max-width: 768px) { .container { grid-template-columns: 1fr; } .modal-container { flex-direction: column; } }
</style>
</head>
<body>

<nav class="top-nav">
    <div class="nav-content">
        <a href="../index.html" class="logo"><span>‚öñÔ∏è</span><span>LegalMinds</span></a>
        <span style="background:#e0e7ff; color:#3730a3; padding:4px 12px; border-radius:20px; font-size:0.75rem; font-weight:700; margin-left:15px; border:1px solid #c7d2fe;">ATTORNEY WORKSPACE</span>
        <div class="search-bar" style="margin-left: 20px;"><input type="text" placeholder="Search student drafts, references..."></div>
        <div class="nav-actions">
            <button class="nav-btn">My Queue (3)</button>
            <button class="nav-btn">Profile</button>
        </div>
    </div>
</nav>

<div class="container">
    <aside class="card">
        <div class="profile-header">
            <div class="profile-avatar">JP</div>
        </div>
        <div class="profile-info">
            <div class="profile-name">Jonathan Pierce, Esq.</div>
            <div class="profile-title">Senior Advocate ‚Ä¢ Mentor</div>
            <p class="profile-bio">Specializing in Civil Litigation & Tenancy Law. Helping the next generation of lawyers practice right.</p>
        </div>
        <div class="profile-stats">
            <div class="stat-box">
                <div class="stat-value">142</div>
                <div class="stat-label">Verified</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">48h</div>
                <div class="stat-label">Pro-Bono</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">15</div>
                <div class="stat-label">Mentees</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">4.9</div>
                <div class="stat-label">Rating</div>
            </div>
        </div>
    </aside>

    <main>
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">üìù Pending Student Drafts</h2>
                <div style="font-size:0.85rem; color:#6b7280;">High Priority First</div>
            </div>
            <div class="case-list" id="review-queue"></div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2 class="card-title">‚úÖ Recently Verified</h2>
            </div>
            <div class="case-list">
                <div class="case-item" style="opacity: 0.7;">
                    <div class="case-icon" style="background:#10b981; color:white;">‚úì</div>
                    <div class="case-content">
                        <div class="case-header-meta">Drafted by: Priya Sharma ‚Ä¢ 2 hours ago</div>
                        <div class="case-title">Consumer Complaint: Defective Electronics</div>
                        <div style="font-size:0.85rem; font-weight:600; color:#059669;">Approved ‚Ä¢ Sent to Client</div>
                    </div>
                    <button class="action-btn secondary">View Archive</button>
                </div>
            </div>
        </div>
    </main>

    <aside class="card">
        <div class="info-header"><span>‚öñÔ∏è</span> Bar Association Updates</div>
        <div class="info-content">
            <div class="info-item">New Rent Control Amendment Act 2025 guidelines issued.</div>
            <div class="info-item">Pro-bono hours reporting deadline: Dec 31st.</div>
        </div>
        
        <div class="info-header" style="margin-top:10px;"><span>üèÜ</span> Top Mentees</div>
        <div class="info-content">
            <div class="info-item" style="display:flex; justify-content:space-between;">
                <span>1. Amit Kumar</span>
                <span style="font-weight:700;">98% Acc</span>
            </div>
            <div class="info-item" style="display:flex; justify-content:space-between;">
                <span>2. Sarah R.</span>
                <span style="font-weight:700;">96% Acc</span>
            </div>
        </div>
    </aside>
</div>

<div class="modal-overlay" id="lawyer-modal" style="display:none;">
    <div class="modal-container">
        <button class="btn-close" onclick="closeModal()">√ó</button>
        
        <div class="modal-left">
            <div style="margin-bottom:20px;">
                <h2 style="font-size:1.4rem; font-weight:700; margin-bottom:5px;">Draft Review: <span id="modal-title">Case Title</span></h2>
                <div style="color:#6b7280; font-size:0.9rem;">
                    Student: <span id="modal-student" style="font-weight:600; color:#1e40af;">Student Name</span> ‚Ä¢ 
                    Status: <span style="background:#fef3c7; color:#d97706; padding:2px 6px; border-radius:4px; font-weight:600; font-size:0.8rem;">Pending Verification</span>
                </div>
            </div>
            
            <div class="doc-preview" id="modal-content">
                </div>
        </div>

        <div class="modal-right">
            <h3 style="margin-bottom:15px; font-size:1.1rem; border-bottom:1px solid #e5e7eb; padding-bottom:10px;">Expert Evaluation</h3>
            
            <div class="rubric-group">
                <div class="rubric-header">
                    <span>Legal Accuracy</span>
                    <span id="score-1">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" oninput="document.getElementById('score-1').innerText = this.value + '/10'">
            </div>

            <div class="rubric-group">
                <div class="rubric-header">
                    <span>Procedural Compliance</span>
                    <span id="score-2">5/10</span>
                </div>
                <input type="range" min="1" max="10" value="5" oninput="document.getElementById('score-2').innerText = this.value + '/10'">
            </div>

            <label style="display:block; margin-bottom:6px; font-weight:600; font-size:0.9rem;">Feedback for Student</label>
            <textarea class="feedback-box" placeholder="E.g., 'Good citation of Section 13, but the tone in para 2 is too aggressive. Please revise.'"></textarea>

            <div class="modal-actions">
                <button class="btn-reject" onclick="submitDecision('return')">Return for Revision</button>
                <button class="btn-approve" onclick="submitDecision('approve')">Approve & Sign</button>
            </div>
            <div style="margin-top:15px; font-size:0.75rem; color:#9ca3af; text-align:center;">
                By approving, you certify this document meets professional standards for pro-bono aid.
            </div>
        </div>
    </div>
</div>

<script>
    // 1. MOCK DATA: Students' work waiting for this lawyer
    let pendingQueue = [
        {
            id: 201,
            student: "Amit Kumar",
            role: "4th Year Student",
            title: "Draft: Legal Notice for Eviction",
            date: "Submitted 45 mins ago",
            content: `
                <div style="text-align:center; font-weight:bold; margin-bottom:20px;">LEGAL NOTICE</div>
                <p><strong>Ref:</strong> Non-payment of rent for property located at 12B, Green Park, Delhi.</p>
                <p><strong>To:</strong> Mr. Sharma (Tenant)</p>
                <p>Sir,</p>
                <p>1. Under instruction from my client, Mrs. Gupta, I hereby serve you this notice regarding the arrears of rent amounting to ‚Çπ50,000 for the period of Oct-Dec 2025.</p>
                <p>2. Despite repeated verbal reminders on 10th Nov and 15th Dec, the dues remain unpaid.</p>
                <p>3. You are hereby called upon to clear the outstanding dues within 15 days of receipt of this notice, failing which my client shall be constrained to initiate legal proceedings under the Delhi Rent Control Act.</p>
                <br>
                <p>Sincerely,</p>
                <p>Amit Kumar (Legal Intern)</p>
            `
        },
        {
            id: 202,
            student: "Sarah Rodriguez",
            role: "3rd Year Student",
            title: "Research: Wage Theft Precedents",
            date: "Submitted 3 hours ago",
            content: `
                <h3>Summary of Precedents regarding Unpaid Overtime</h3>
                <p><strong>Objective:</strong> To establish grounds for claiming unpaid overtime for factory workers in the Chennai jurisdiction.</p>
                <ol>
                    <li><strong>Worker v. Factory X (2021):</strong> The High Court ruled that biometric data constitutes valid proof of working hours even in the absence of physical timesheets.</li>
                    <li><strong>Union Y v. Mgmt Z (2019):</strong> Established that 'implied consent' for overtime does not waive the right to statutory overtime pay (2x wages).</li>
                </ol>
                <p><strong>Conclusion:</strong> The client has a strong case based on digital entry logs provided.</p>
            `
        },
        {
            id: 203,
            student: "Rahul V.",
            role: "Final Year Student",
            title: "Draft: Reply to Copyright Notice",
            date: "Submitted 5 hours ago",
            content: `
                <p><strong>Subject:</strong> Reply to Cease and Desist Notice dated 01/12/2025</p>
                <p>Dear Counsel,</p>
                <p>We are in receipt of your notice alleging copyright infringement regarding the logo used by my client.</p>
                <p>Please note that my client's logo falls under the 'Fair Use' doctrine as a transformative work of parody, which is protected under Section 52 of the Copyright Act.</p>
                <p>We deny all allegations and refuse your demand to cease operations.</p>
            `
        }
    ];

    let activeReviewId = null;

    // 2. RENDER LIST
    function renderQueue() {
        const container = document.getElementById('review-queue');
        if (pendingQueue.length === 0) {
            container.innerHTML = `<div style="padding:2rem; text-align:center; color:#6b7280;">üéâ All drafts reviewed! Great job.</div>`;
            return;
        }

        container.innerHTML = pendingQueue.map(item => `
            <div class="case-item">
                <div class="case-icon">‚öñÔ∏è</div>
                <div class="case-content">
                    <div class="case-header-meta">Student: ${item.student} (${item.role}) ‚Ä¢ ${item.date}</div>
                    <div class="case-title">${item.title}</div>
                    <div>
                        <span class="tag draft">Pending Review</span>
                        <span class="tag student">Pro-Bono</span>
                    </div>
                    <div class="case-footer">
                        <button class="action-btn" onclick="openReviewModal(${item.id})">Review Draft</button>
                    </div>
                </div>
            </div>
        `).join('');
    }

    // 3. MODAL LOGIC
    function openReviewModal(id) {
        const data = pendingQueue.find(i => i.id === id);
        if(!data) return;

        activeReviewId = id;
        document.getElementById('modal-title').innerText = data.title;
        document.getElementById('modal-student').innerText = data.student;
        document.getElementById('modal-content').innerHTML = data.content;
        
        document.getElementById('lawyer-modal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('lawyer-modal').style.display = 'none';
        activeReviewId = null;
    }

    function submitDecision(type) {
        if (!activeReviewId) return;
        
        const msg = type === 'approve' 
            ? "‚úÖ Draft Approved! Sent to Citizen." 
            : "‚Ü©Ô∏è Returned to Student for revisions.";
        
        alert(msg);

        // Remove from list
        pendingQueue = pendingQueue.filter(i => i.id !== activeReviewId);
        renderQueue();
        closeModal();
    }

    // Initial Load
    renderQueue();

</script>
</body>
</html>