<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reviewer Portal - Legal Aid Platform</title>
<style>
  /* --- BASE STYLES FROM student.html --- */
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background-color: #f3f4f6; color: #111827; min-height: 100vh;
  }

  /* Top Navigation */
  .top-nav { background-color:#ffffff; border-bottom:1px solid #e5e7eb; padding:0.75rem 0; position:sticky; top:0; z-index:100; }
  .nav-content { max-width:1280px; margin:0 auto; padding:0 1rem; display:flex; align-items:center; gap:2rem; }
  .logo { font-size:1.5rem; font-weight:700; background:linear-gradient(135deg,#0a66c2 0%,#10b981 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; text-decoration:none; display:flex; align-items:center; gap:0.5rem; }
  .search-bar { flex:1; max-width:400px; }
  .search-bar input { width:100%; padding:0.625rem 1rem; border:1px solid #e5e7eb; border-radius:20px; background-color:#f9fafb; color:#111827; font-size:0.875rem; }
  .nav-actions { display:flex; gap:1rem; margin-left:auto; }
  .nav-btn { padding:0.5rem 1rem; background-color:transparent; border:1px solid #e5e7eb; border-radius:20px; color:#374151; font-size:0.875rem; cursor:pointer; transition:all 0.2s; }
  .nav-btn:hover { background-color:#f3f4f6; border-color:#0a66c2; }

  /* Layout Grid */
  .container { max-width:1280px; margin:1.5rem auto; padding:0 1rem; display:grid; grid-template-columns:280px 1fr 320px; gap:1.5rem; }
  
  /* Profile Sidebar */
  .profile-card { background-color:#ffffff; border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; height:fit-content; position:sticky; top:90px; }
  /* Changed gradient to Purple/Blue for Reviewer distinction while keeping style */
  .profile-header { height:80px; background:linear-gradient(135deg,#4f46e5 0%,#9333ea 100%); position:relative; }
  .profile-avatar { width:80px; height:80px; border-radius:50%; border:4px solid #ffffff; background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 100%); position:absolute; bottom:-40px; left:50%; transform:translateX(-50%); display:flex; align-items:center; justify-content:center; font-size:2rem; font-weight:600; color:#ffffff; }
  .profile-info { padding:3rem 1.5rem 1rem; text-align:center; border-bottom:1px solid #e5e7eb; }
  .profile-name { font-size:1.125rem; font-weight:700; margin-bottom:0.25rem; color:#111827; }
  .profile-title { font-size:0.875rem; color:#6b7280; margin-bottom:1rem; }
  .profile-bio { font-size:0.8rem; color:#6b7280; line-height:1.4; }
  .profile-stats { padding:1rem 1.5rem; display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
  .stat-box { text-align:center; padding:0.75rem; background-color:#f9fafb; border-radius:8px; border:1px solid #e5e7eb; }
  /* Purple text for reviewer stats */
  .stat-value { font-size:1.5rem; font-weight:700; background:linear-gradient(135deg,#4f46e5 0%,#9333ea 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; margin-bottom:0.25rem; }
  .stat-label { font-size:0.75rem; color:#9ca3af; }
  .profile-achievements { padding:1rem 1.5rem; border-top:1px solid #e5e7eb; }
  .achievement-title { font-size:0.875rem; font-weight:600; color:#111827; margin-bottom:0.75rem; }
  .badges { display:flex; gap:0.5rem; flex-wrap:wrap; }
  .badge { padding:0.25rem 0.75rem; background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 100%); border-radius:12px; font-size:0.75rem; color:#ffffff; }

  /* Main Content */
  .main-content { display:flex; flex-direction:column; gap:1rem; }
  .card { background-color:#ffffff; border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; }
  .card-header { padding:1rem 1.5rem; border-bottom:1px solid #e5e7eb; display:flex; align-items:center; justify-content:space-between; }
  .card-title { font-size:1rem; font-weight:700; color:#111827; display:flex; align-items:center; gap:0.5rem; }
  
  /* Reusing Case List styles for Review Queue */
  .case-list { display:flex; flex-direction:column; background-color:#ffffff; }
  .case-item { padding:1.25rem 1.5rem; border-bottom:1px solid #e5e7eb; display:flex; gap:1rem; transition:background-color 0.2s; }
  .case-item:hover { background-color:#f9fafb; }
  .case-item:last-child { border-bottom:none; }
  .case-icon { width:48px; height:48px; border-radius:8px; background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 100%); display:flex; align-items:center; justify-content:center; font-size:1.5rem; flex-shrink:0; color:#ffffff; }
  .case-content { flex:1; min-width:0; }
  .case-header { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.5rem; flex-wrap:wrap; }
  .case-author { font-size:0.75rem; color:#6b7280; }
  .case-time { font-size:0.75rem; color:#9ca3af; }
  .case-title { font-size:1rem; font-weight:600; color:#111827; margin-bottom:0.5rem; line-height:1.4; }
  .case-description { font-size:0.875rem; color:#4b5563; line-height:1.5; margin-bottom:0.75rem; }
  .case-tags { display:flex; gap:0.5rem; flex-wrap:wrap; margin-bottom:0.75rem; }
  .tag { padding:0.25rem 0.75rem; background-color:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; font-size:0.75rem; color:#6b7280; }
  .tag.draft { background-color:#fef2f2; border-color:#f97373; color:#b91c1c; }
  .tag.exam { background-color:#eff6ff; border-color:#60a5fa; color:#1e40af; }
  
  .case-footer { display:flex; gap:0.75rem; align-items:center; }
  .case-action-btn { padding:0.5rem 1.25rem; background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 100%); border:none; border-radius:20px; color:#ffffff; font-size:0.875rem; font-weight:600; cursor:pointer; transition:all 0.2s; }
  .case-action-btn:hover { transform:translateY(-1px); box-shadow:0 4px 12px rgba(79,70,229,0.3); }
  .case-action-btn.secondary { background:transparent; border:1px solid #e5e7eb; color:#374151; }
  .case-action-btn.secondary:hover { background-color:#f3f4f6; border-color:#4f46e5; box-shadow:none; }
  .empty-state { text-align:center; padding:3rem 2rem; color:#6b7280; font-size:0.875rem; background-color:#ffffff; }

  /* Right Sidebar */
  .right-sidebar { display:flex; flex-direction:column; gap:1rem; position:sticky; top:90px; height:fit-content; }
  .info-card { background-color:#ffffff; border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; }
  .info-header { padding:1rem 1.25rem; border-bottom:1px solid #e5e7eb; font-size:0.875rem; font-weight:700; color:#111827; display:flex; align-items:center; gap:0.5rem; }
  .info-content { padding:1rem 1.25rem; }
  .info-item { padding:0.75rem 0; border-bottom:1px solid #e5e7eb; }
  .info-item:last-child { border-bottom:none; padding-bottom:0; }
  .info-item-title { font-size:0.875rem; font-weight:600; color:#111827; margin-bottom:0.25rem; }
  .info-item-text { font-size:0.75rem; color:#6b7280; }
  
  /* Leaderboard reused for Reviewers */
  .leaderboard-item { display:flex; align-items:center; gap:0.75rem; padding:0.75rem 0; border-bottom:1px solid #e5e7eb; }
  .leaderboard-item:last-child { border-bottom:none; padding-bottom:0; }
  .leaderboard-rank { font-size:1.25rem; min-width:32px; text-align:center; }
  .leaderboard-avatar { width:40px; height:40px; border-radius:50%; background:linear-gradient(135deg,#4f46e5 0%,#7c3aed 100%); display:flex; align-items:center; justify-content:center; color:#ffffff; font-size:0.875rem; font-weight:700; border:2px solid #e5e7eb; }
  .leaderboard-info { flex:1; }
  .leaderboard-name { font-size:0.875rem; font-weight:600; color:#111827; margin-bottom:0.125rem; }
  .leaderboard-score { font-size:0.75rem; color:#6b7280; }

  @media (max-width: 1200px) { .container { grid-template-columns:260px 1fr; } .right-sidebar { display:none; } }
  @media (max-width: 900px) { .container { grid-template-columns:1fr; } .profile-card { position:relative; top:0; } }
  @media (max-width: 640px) { .nav-actions { display:none; } }

  /* --- MODAL (REVIEW INTERFACE) --- */
  /* Adapted to match Student Theme Light Mode */
  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
  .modal-container { background: white; width: 95%; max-width: 1100px; height: 85vh; border-radius: 12px; display: flex; overflow: hidden; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border:1px solid #e5e7eb; }
  
  .modal-left { flex: 2; padding: 2rem; overflow-y: auto; background: #f9fafb; border-right: 1px solid #e5e7eb; }
  .modal-right { flex: 1; padding: 2rem; overflow-y: auto; background: white; display: flex; flex-direction: column; }

  .doc-viewer { background: white; padding: 2.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-radius: 8px; min-height: 600px; font-family: 'Times New Roman', serif; line-height: 1.6; color: #333; border: 1px solid #e5e7eb; }
  
  .rubric-item { margin-bottom: 1.5rem; }
  .rubric-label { display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151; font-size: 0.9rem; }
  .rubric-input { width: 100%; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; }
  .feedback-area { width: 100%; height: 120px; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 8px; margin-bottom: 1rem; resize: none; font-family: inherit; font-size: 0.9rem; }
  
  .action-buttons { margin-top: auto; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .btn-approve { background: #10b981; color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: opacity 0.2s; }
  .btn-reject { background: #ef4444; color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: opacity 0.2s; }
  .btn-approve:hover, .btn-reject:hover { opacity: 0.9; }
  
  .btn-close { position: absolute; top: 1rem; right: 1rem; background: white; border: 1px solid #e5e7eb; font-size: 1.2rem; cursor: pointer; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #6b7280; z-index: 10; }
  .btn-close:hover { background: #f3f4f6; color: #111827; }

</style>
</head>
<body>
  <nav class="top-nav">
    <div class="nav-content">
      <a href="#" class="logo">
        <span>‚öñÔ∏è</span>
        <span>LegalAid</span>
      </a>
      <span style="background-color:#f3e8ff; color:#6b21a8; padding:0.25rem 0.75rem; border-radius:20px; font-size:0.75rem; font-weight:700; border:1px solid #d8b4fe; margin-left:1rem;">REVIEWER</span>
      <div class="nav-actions">
        <button class="nav-btn">My Queue (3)</button>
        <button class="nav-btn">History</button>
      </div>
    </div>
  </nav>

  <div class="container">
    <aside class="profile-card">
      <div class="profile-header"><div class="profile-avatar">SR</div></div>
      <div class="profile-info">
        <div class="profile-name">Sarah Rodriguez</div>
        <div class="profile-title">Law Student ‚Ä¢ 3rd Year</div>
        <p class="profile-bio">Passionate about labor rights and housing justice. Seeking to make a difference.</p>
      </div>
      <div class="profile-stats">
        <div class="stat-box">
          <div class="stat-value" id="stat-reviewed">142</div>
          <div class="stat-label">Reviewed</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">98%</div>
          <div class="stat-label">Accuracy</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="stat-pending">3</div>
          <div class="stat-label">Pending</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">4.5h</div>
          <div class="stat-label">Avg Time</div>
        </div>
      </div>
      <div class="profile-achievements">
        <div class="achievement-title">üèÜ Badges</div>
        <div class="badges">
          <span class="badge">Top Rated</span>
          <span class="badge">Mentor</span>
          <span class="badge">Fast Review</span>
        </div>
      </div>
    </aside>

    <main class="main-content">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">
            üìù Submission Queue
          </h2>
          <span style="font-size: 0.8rem; color: #6b7280;">Sorted by Priority</span>
        </div>
        <div class="case-list" id="review-queue">
          </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">
            ‚úÖ Recently Completed
          </h2>
        </div>
        <div class="case-list">
          <div class="case-item" style="opacity: 0.8;">
            <div class="case-icon" style="background:#10b981;">‚úì</div>
            <div class="case-content">
              <div class="case-header">
                <span class="case-author">Student: Priya S.</span>
                <span class="case-time">‚Ä¢ 2 hours ago</span>
              </div>
              <div class="case-title">Drafting: Lease Agreement (Clause 4)</div>
              <div class="case-tags">
                <span style="color:#059669; font-weight:600; font-size:0.8rem;">Approved (Score: 9/10)</span>
              </div>
            </div>
            <button class="nav-btn">View</button>
          </div>
        </div>
      </div>
    </main>

    <aside class="right-sidebar">
      <div class="info-card">
        <div class="info-header">
          <span>üìã</span>
          <span>Rubric Quick Guide</span>
        </div>
        <div class="info-content">
          <div class="info-item">
            <div class="info-item-title">1. Legal Accuracy</div>
            <div class="info-item-text">Citations must be from 2024 updated code. Check logic flow.</div>
          </div>
          <div class="info-item">
            <div class="info-item-title">2. Formatting</div>
            <div class="info-item-text">Standard font size 12, proper indentation for clauses.</div>
          </div>
          <div class="info-item">
            <div class="info-item-title">3. Tone</div>
            <div class="info-item-text">Professional, objective, and devoid of emotional language.</div>
          </div>
        </div>
      </div>

      <div class="info-card">
        <div class="info-header">
          <span>üèÜ</span>
          <span>Top Reviewers</span>
        </div>
        <div class="info-content">
          <div class="leaderboard-item">
            <div class="leaderboard-rank">ü•á</div>
            <div class="leaderboard-avatar">AS</div>
            <div class="leaderboard-info">
              <div class="leaderboard-name">Ananya Singh</div>
              <div class="leaderboard-score">152 Reviews</div>
            </div>
          </div>
          <div class="leaderboard-item">
            <div class="leaderboard-rank">ü•à</div>
            <div class="leaderboard-avatar" style="background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%);">DK</div>
            <div class="leaderboard-info">
              <div class="leaderboard-name">Dev Kumar</div>
              <div class="leaderboard-score">148 Reviews</div>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <div class="modal-overlay" id="review-modal">
    <div class="modal-container">
      <button class="btn-close" onclick="closeModal()">√ó</button>
      
      <div class="modal-left">
        <h2 style="margin-bottom: 1rem; font-size: 1.5rem; color:#111827;" id="modal-title">Loading...</h2>
        <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; font-size: 0.85rem; color: #6b7280;">
          <span id="modal-student">Student: ...</span>
          <span id="modal-type">Type: ...</span>
        </div>
        <div class="doc-viewer" id="modal-content">
          </div>
      </div>

      <div class="modal-right">
        <h3 style="margin-bottom: 1.5rem; color:#111827;">Evaluation</h3>
        
        <div class="rubric-item">
          <label class="rubric-label">Legal Accuracy (0-10)</label>
          <input type="range" min="0" max="10" value="5" class="rubric-input" oninput="this.nextElementSibling.value = this.value">
          <output style="font-weight:bold; color: #4f46e5; margin-left: 10px;">5</output>
        </div>

        <div class="rubric-item">
          <label class="rubric-label">Formatting & Syntax (0-10)</label>
          <input type="range" min="0" max="10" value="5" class="rubric-input" oninput="this.nextElementSibling.value = this.value">
          <output style="font-weight:bold; color: #4f46e5; margin-left: 10px;">5</output>
        </div>

        <div class="rubric-item">
          <label class="rubric-label">Detailed Feedback</label>
          <textarea class="feedback-area" placeholder="Provide constructive criticism here..."></textarea>
        </div>

        <div class="action-buttons">
          <button class="btn-reject" onclick="submitReview('reject')">Request Revision</button>
          <button class="btn-approve" onclick="submitReview('approve')">Approve & Sign</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 1. DATA: Submissions Queue
    let queueData = [
      { 
        id: 101, 
        student: "Amit Kumar", 
        type: "Drafting", 
        title: "Eviction Notice - Non-Payment", 
        submitted: "45 mins ago", 
        tag: "tag.draft",
        content: `
          <h1 style="text-align:center;">LEGAL NOTICE</h1>
          <p><strong>To:</strong> Mr. R. Sharma (Tenant)<br><strong>From:</strong> Mrs. K. Desai (Landlord)</p>
          <p><strong>Subject:</strong> Notice to vacate premises due to non-payment of rent.</p>
          <p>Dear Sir,</p>
          <p>1. Under instructions from my client, Mrs. K. Desai, I hereby call upon you to pay the arrears of rent amounting to ‚Çπ45,000 for the months of August, September, and October 2025.</p>
          <p>2. Despite repeated verbal reminders, you have failed to clear the dues.</p>
          <p>3. You are hereby given 15 days notice to clear the dues OR vacate the property located at 12/B Baker Street, Mumbai.</p>
          <p>4. Failure to comply will result in legal action under the Rent Control Act.</p>
        `
      },
      { 
        id: 102, 
        student: "Mehul Gupta", 
        type: "Exam Answer", 
        title: "Constitutional Law: Article 21", 
        submitted: "2 hours ago", 
        tag: "tag.exam",
        content: `
          <h3>Question: Discuss the expansion of Article 21.</h3>
          <p><strong>Answer:</strong></p>
          <p>Article 21 of the Indian Constitution states that "No person shall be deprived of his life or personal liberty except according to procedure established by law."</p>
          <p>Over the years, the Supreme Court has expanded this definition significantly:</p>
          <ul>
            <li><strong>Maneka Gandhi v. Union of India:</strong> Established that the 'procedure' must be fair, just, and reasonable.</li>
            <li><strong>Right to Privacy:</strong> Puttaswamy judgment declared privacy a fundamental right under Art 21.</li>
            <li><strong>Right to Livelihood:</strong> Olga Tellis case included the right to earn a living.</li>
          </ul>
        `
      },
      { 
        id: 103, 
        student: "Sara Ali", 
        type: "Drafting", 
        title: "Affidavit for Name Change", 
        submitted: "5 hours ago", 
        tag: "tag.draft",
        content: `
          <h1 style="text-align:center;">AFFIDAVIT</h1>
          <p>I, Sara Ali, daughter of Mr. M. Ali, aged 22 years, residing at Delhi, do hereby solemnly affirm and declare as under:</p>
          <p>1. That my recorded name in school certificates is "Sara Ali".</p>
          <p>2. That I wish to change my name to "Sara Khan" for all future purposes.</p>
          <p>3. That the contents of this affidavit are true to the best of my knowledge.</p>
          <br><br>
          <p>Deponent</p>
        `
      }
    ];

    let currentReviewId = null;

    // 2. RENDER: Queue List
    function renderQueue() {
      const container = document.getElementById('review-queue');
      
      if (queueData.length === 0) {
        container.innerHTML = `<div class="empty-state"><div class="empty-state-icon">üéâ</div><div>All caught up! No pending reviews.</div></div>`;
        return;
      }

      container.innerHTML = queueData.map(item => `
        <div class="case-item">
          <div class="case-icon">üìù</div>
          <div class="case-content">
            <div class="case-header">
              <span class="case-author">Student: ${item.student}</span>
              <span class="case-time">‚Ä¢ ${item.submitted}</span>
            </div>
            <div class="case-title">${item.title}</div>
            <div class="case-tags">
              <span class="tag ${item.type === 'Drafting' ? 'draft' : 'exam'}">${item.type}</span>
            </div>
            <div class="case-footer">
              <button class="case-action-btn" onclick="openReviewModal(${item.id})">Start Review</button>
            </div>
          </div>
        </div>
      `).join('');
      
      // Update Counter
      document.getElementById('stat-pending').textContent = queueData.length;
    }

    // 3. ACTIONS: Modal Logic
    function openReviewModal(id) {
      const data = queueData.find(i => i.id === id);
      if (!data) return;

      currentReviewId = id;
      document.getElementById('modal-title').textContent = data.title;
      document.getElementById('modal-student').textContent = `Student: ${data.student}`;
      document.getElementById('modal-type').textContent = `Type: ${data.type}`;
      document.getElementById('modal-content').innerHTML = data.content;
      
      document.getElementById('review-modal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('review-modal').style.display = 'none';
      currentReviewId = null;
    }

    function submitReview(decision) {
      if (!currentReviewId) return;

      const action = decision === 'approve' ? 'Approved' : 'Returned for Revision';
      alert(`Submission ${action}! Stats updated.`);

      // Remove from queue
      queueData = queueData.filter(i => i.id !== currentReviewId);
      
      // Update Reviewed Count
      let reviewedCount = parseInt(document.getElementById('stat-reviewed').textContent);
      document.getElementById('stat-reviewed').textContent = reviewedCount + 1;

      closeModal();
      renderQueue();
    }

    // Initialize
    renderQueue();

  </script>
</body>
</html>